# Copyright 2023 Enzo Venturi. All rights reserved.
# Use of this source code is governed by a BSD-style
# license that can be found in the LICENSE file.

before_script:
  - apk add --no-cache make
  # golang.org/issues/61888
  - rm -f go.mod
  - go mod init gitlab.com/nzv/prc

# https://go.dev/doc/devel/release#policy
stages:
  - test-1.20
  - test-1.21
  - test-latest

test-1.20:
  image: docker.io/library/golang:1.20-alpine
  script:
    - make test

test-1.21:
  image: docker.io/library/golang:1.21-alpine
  script:
    - make test

test-latest:
  image: docker.io/library/golang:alpine
  script:
    - make test
