# Copyright 2023 Enzo Venturi. All rights reserved.
# Use of this source code is governed by a BSD-style
# license that can be found in the LICENSE file.

before_script:
  # golang.org/issues/61888
  - rm -f go.mod
  - go mod init gitlab.com/nzv/prc

# https://go.dev/doc/devel/release#policy
stages:
  - test

go-test 1/3:
  stage: test
  image: docker.io/library/golang:1.20-alpine
  script:
    - go test ./...

go-test 2/3:
  stage: test
  image: docker.io/library/golang:1.21-alpine
  script:
    - go test ./...

go-test 3/3:
  stage: test
  image: docker.io/library/golang:alpine
  script:
    - go test ./...
